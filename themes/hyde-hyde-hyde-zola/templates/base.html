{% import "macros.html" as macros %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
        <meta content="text/html; charset=utf-8" http-equiv="content-type"/>
        <meta content="width=device-width, initial-scale=1.0, maximum-scale=1" name="viewport"/>
        <meta name="theme-color" content="#0d3a58"/>
        <title>
            {% block title %}
                {{ config.title }}
            {% endblock title %}
        </title>
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="{{ get_url(path="apple-touch-icon-144-precomposed.png") }}">
        <link href="{{ get_url(path="favicon.png") }}" rel="icon" type="image/x-icon"/>
        {% if config.generate_feed %}
            <link rel="alternate" type={% if config.feed_filename == "atom.xml" %} "application/atom+xml" {% else %} "application/rss+xml" {% endif %} title="RSS" href="{{ get_url(path=config.feed_filename) | safe }}"/>
        {% endif %}
        {# Metadata #}
        {% block metadata %}
            <meta content="website" property="og:type"/>
            <meta content="{{ config.title }}" property="og:site_name"/>
            <meta content="{{ config.base_url | safe }}" property="og:url"/>
            <meta content="{{ config.base_url | safe }}" property="twitter:url"/>
            {% if section.title %}
                <meta content="{{ section.title }}" property="og:title"/>
                <meta content="{{ section.title }}" property="twitter:title"/>
            {% endif %}
            {% if section.description %}
                <meta content="{{ section.description }}" property="og:description"/>
                <meta content="{{ section.description }}" property="description"/>
                <meta content="{{ section.description }}" property="twitter:description"/>
            {% endif %}
        {% endblock metadata %}
        {# CSS #}
        {% block css %}
            <link href="{{ get_url(path="fonts.css") }}" rel="stylesheet" type="text/css"/>
            <link href="{{ get_url(path="hyde-hyde.css") }}" rel="stylesheet" type="text/css"/>
            <link href="{{ get_url(path="print.css") }}" rel="stylesheet" media="print" type="text/css"/>
        {% endblock css %}
        {% block extra_head %}
        {% endblock extra_head %}
    </head>
    <body>
        <div class=topbar>
            <div class=topbar__title>{{ config.title }}</div>
        </div>
        <div class=sidebar-wrapper>
            <input type=checkbox id=sidebarToggle style=display:none>
            <label id=sidebarBurger class=sidebar-label for=sidebarToggle>{{ macros::svg_menu() }}</label>
            <div class=sidebar>
                <label id=sidebarClose class=sidebar-label for=sidebarToggle>{{ macros::svg_x() }}</label>
                <div class=container>
                    <div class=sidebar-about><span class=site__title><a href="{{ config.base_url }}">{{ config.title }}</a></span>
                        <p class=site__description>{{ config.description }}</p>
                    </div>
                    <div class=sidebar-menu>
                        <div>
                            <ul class=sidebar-nav>
                            {% for item in config.extra.menu %}
                                <li><a href="{{ item.url }}" /><span>{{ item.name }}</span></a></li>
                            {% endfor %}
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="content container">
            {% block content %}
            {% endblock content %}
            {% block copyright %}
            <div class=copyright>&copy; {{ now() | date(format="%Y") }} Morgan Creekmore - <a href=https://creativecommons.org/licenses/by/4.0>CC BY 4.0</a></div>
            {% endblock copyright %}
        </div>
        {% block js_body %}
        {% endblock js_body %}
        {% if config.extra.goatcounter %}
            <script data-goatcounter="https://{{ config.extra.goatcounter }}.goatcounter.com/count" async src="https://gc.zgo.at/count.js"></script>
        {% endif %}
    </body>
</html>
